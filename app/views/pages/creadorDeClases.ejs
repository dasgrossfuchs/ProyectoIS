<script type='text/javascript'>
</script>
<style>
    .contenedor-clase {
        margin: 1rem 2rem 0.2rem 2rem;
        padding: 2rem 2rem;
        background-color: #CEE5D0;
        /* background-color: #A9E9EF; */
        /* border: 5px solid #474e45b4; */
        border-radius: .5rem 5rem;
        box-shadow: 5px 5px 20px -5px #000000;
    }

    .wrong {
        background-color: pink !important;
        animation: shake 0.5s;
        animation-iteration-count: 1;
    }

    .correcto {
        background-color: #77dd77 !important;
        animation: shake 0.5s;
    }

    @keyframes shake {

        10%,
        90% {
            transform: translate(-1px, 0, );
        }

        20%,
        80% {
            transform: translate(2px, 0);
        }

        30%,
        50%,
        70% {
            transform: translate(-4px, 0);
        }

        40%,
        60% {
            transform: translate(4px, 0);
        }
    }

    .tituloTema {
        max-width: 15rem;
        font-size: 1.5rem;
        color: #24277F !important;
        font-weight: 600;
    }

    .tituloTea {
        font-size: 2rem;
        color: #247f4d !important;
        font-weight: 600;
        text-shadow: 2px 1px black;
        text-align: center;
    }

    .linktema {
        max-width: 100%;
    }

    .inst {
        font-size: 1.3rem;
        font-weight: 600;
    }

    .inst-lista {
        color: transparent;
        max-width: 10rem;
    }

    .inst-contenido {
        font-family: Arial, Helvetica, sans-serif;
        color: black;
    }

    .text-contenido {
        color: black;
        font-size: 1.1rem;
        max-width: 100%;
        text-align: justify;
        height: 8rem;
    }

    .material {
        max-width: 100%;
        height: auto;
    }

    #imy {
        display: cover;
        background-color: black;
        border-radius: 15px;
        box-shadow: 5px 5px 20px -5px #000000;
        width: 25rem;
        height: 15rem;
    }

    .material video {
        border-radius: 15px;
        max-width: 30rem;
        height: auto;
        max-height: 20rem;
        box-shadow: 5px 5px 20px -5px #000000;
    }

    audio {
        width: 100%;
        height: 2rem;
        border-radius: 5rem 5rem;
        box-shadow: 5px 5px 20px -5px #000000;
    }

    .audiocont {
        background-color: #CEE5D0;
        ;
    }
</style>
<div class="m-0 p-0 d-inline">
    <div class="d-flex flex-row justify-content-center flex-wrap w-100">
        <span class="tituloTea w-100" id="creadoooo">La clase fue creada exitosamente</span>
    </div>
    <div class="d-flex flex-row justify-content-center flex-wrap">
        <label class="input-group-text" style="background-color: rgba(184, 184, 184, 0.267);">
            <i class="far fa-hand-point-right"> Curso : </i>
            <select class="form-select" name="cursos" id="cursos">
                <option value="esp">Español</option>
                <option value="mat">Matemáticas</option>
            </select>
        </label>
    </div>
    <div class="d-inline bodcont">
        <div class="contenedor-clase">
            <div class="h-100 w-100 d-inline-flex flex-row justify-content-evenly">
                <div class="d-inline-flex flex-column justify-content-start mx-3">
                    <div class="input-group mb-3">
                        <label for="titletext" class="input-group-text">Titulo</label>
                        <input id="titletext" type="text" oninput="tituloget()" class="form-control tituloTema"
                            placeholder="Titulo del tema">
                    </div>
                    <div>
                        <span class="inst">Instrucciones : </span><br>
                        <div class="w-75">
                            <div class="input-group d-inline-flex flex-column mb-3" id="instrucciones">
                                <label class="input-group-text" style="background-color: rgba(184, 184, 184, 0.267);">
                                    <i class="far fa-hand-point-right"></i>
                                    <input type="text" class="form-control" placeholder="Instruccion"
                                        oninput="instruccion()" id="in0">
                                </label>
                                <label class="input-group-text" style="background-color: rgba(184, 184, 184, 0.267);">
                                    <i class="far fa-hand-point-right"></i>
                                    <input type="text" class="form-control" placeholder="Instruccion"
                                        oninput="instruccion()" id="in1">
                                </label>
                                <label class="input-group-text" style="background-color: rgba(184, 184, 184, 0.267);">
                                    <i class="far fa-hand-point-right"></i>
                                    <input type="text" class="form-control" placeholder="Instruccion"
                                        oninput="instruccion()" id="in2">
                                </label>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label class="input-group-text"> Contenido Textual</label>
                        <textarea class="form-control text-contenido" oninput="textget()" id='textoar'></textarea>
                    </div>
                </div>
                <div class="d-inline-flex flex-column justify-content-start mx-3">
                    <div class="input-group mb-3">
                        <label class="input-group-text">Titulo del material</label>
                        <input id="titlemattext" oninput="titulomatget()" type="text" class="form-control tituloTema"
                            placeholder="Titulo del tema">
                    </div>
                    <div>
                        <img id="imy" src="https://via.placeholder.com/300x200" onerror="errorimagen();">
                        <div class="input-group mb-3 linktema">
                            <label class="input-group-text">Link del material</label>
                            <input id="meterial" oninput="link()" type="text" class="form-control" placeholder="Link">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="my-3 d-flex flex-row justify-content-center">
        <button class="btn btn-primary" onclick="mandar()">Crear Clase</button>
    </div>
</div>
<input type="hidden" id="creado" value="<%=listo%>">
<script>
    document.getElementById('creadoooo').hidden = true;
    if (document.getElementById('creado').value == 'yes')
        document.getElementById('creadoooo').hidden = false;
</script>
<form action="/dev/clases" method="POST" id="claseacrear">
    <input type="hidden" name="curso" id="curso" value="">
    <input type="hidden" name="inst" id="inst" value="">
    <input type="hidden" name="title" id="titulo" value="">
    <input type="hidden" name="texto" id="texto" value="">
    <input type="hidden" name="titlemat" id="titulomat" value="">
    <input type="hidden" name="material" id="material" value="">
</form>
<script>
    function mandar() {
        document.getElementById('instrucciones').classList.remove("wrong");
        document.getElementById('instrucciones').classList.remove("correcto");
        document.getElementById('titletext').classList.remove("wrong");
        document.getElementById('titletext').classList.remove("correcto");
        document.getElementById('textoar').classList.remove("wrong");
        document.getElementById('textoar').classList.remove("correcto");
        document.getElementById('titlemattext').classList.remove("wrong");
        document.getElementById('titlemattext').classList.remove("correcto");
        document.getElementById('meterial').classList.remove("wrong");
        document.getElementById('meterial').classList.remove("correcto");
        let posible = true;
        let instr = document.getElementById('inst').value;
        let tittex = document.getElementById('titulo').value;
        let tex = document.getElementById('texto').value;
        let titmat = document.getElementById('titulomat').value;
        let mat = document.getElementById('material').value;
        if (instr.length == 0) {
            posible = false;
            setTimeout(() => { document.getElementById('instrucciones').classList.add("wrong"); }, 150);
        } else { setTimeout(() => { document.getElementById('instrucciones').classList.add("correcto"); }, 150); }
        if (tittex.length == 0) {
            posible = false;
            setTimeout(() => { document.getElementById('titletext').classList.add("wrong"); }, 150);
        } else { setTimeout(() => { document.getElementById('titletext').classList.add("correcto"); }, 150); }
        if (tex.length == 0) {
            posible = false;
            setTimeout(() => { document.getElementById('textoar').classList.add("wrong"); }, 150);
        } else { setTimeout(() => { document.getElementById('textoar').classList.add("correcto"); }, 150); }
        if (titmat.length == 0) {
            posible = false;
            setTimeout(() => { document.getElementById('titlemattext').classList.add("wrong"); }, 150);
        } else { setTimeout(() => { document.getElementById('titlemattext').classList.add("correcto"); }, 150); }
        if (mat.length == 0) {
            posible = false;
            setTimeout(() => { document.getElementById('meterial').classList.add("wrong"); }, 150);
        } else { setTimeout(() => { document.getElementById('meterial').classList.add("correcto"); }, 150); }
        if (posible) {
            let curso = document.getElementById('cursos').value;
            document.getElementById('curso').value = curso;
            document.getElementById('claseacrear').submit();
        }
    }
    function instruccion() {
        let instnva = '';
        for (let i = 0; i < 3; i++) {
            let instact = document.getElementById(`in${i}`).value;
            if (instact.length != 0 || instact != '' || !!instact) {
                if (i == 2) { instnva += instact; }
                else { instnva += instact + ";" }
            }
        }
        document.getElementById('inst').value = instnva;
    }
    function textget() {
        let textnvo = '';
        textnvo = document.getElementById('textoar').value;
        document.getElementById('texto').value = textnvo;
    }
    function tituloget() {
        let titulonvo = '';
        titulonvo = document.getElementById('titletext').value;
        document.getElementById('titulo').value = titulonvo;
    }
    function titulomatget() {
        let titulonvo = '';
        titulonvo = document.getElementById('titlemattext').value;
        document.getElementById('titulomat').value = titulonvo;
    }
    function link() {
        let materiallink = '/img/404.png';
        materiallink = document.getElementById('meterial').value;
        document.getElementById('imy').src = materiallink;
    }
    function errorimagen() {
        dcument.getElementById('imy').onerror = null;
        dcument.getElementById('imy').src = '/img/404.png';
        document.getElementById('material').value = '';
    }

</script>